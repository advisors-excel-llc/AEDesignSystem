{"version":3,"sources":["webpack://aeDesignSystem/webpack/bootstrap","webpack://aeDesignSystem/./src/components/Filter/context.jsx","webpack://aeDesignSystem/./src/components/Filter/field/index.jsx","webpack://aeDesignSystem/external \"@salesforce/design-system-react/lib/components/combobox\"","webpack://aeDesignSystem/external \"@salesforce/design-system-react/lib/components/filter\"","webpack://aeDesignSystem/external \"prop-types\"","webpack://aeDesignSystem/external \"react\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","createContext","filters","properties","modified","setFilter","removeFilter","setFilterValue","getFilterValue","getFilter","setModified","setProperty","removeProperty","hasProperty","Provider","Consumer","connect","WrappedComponent","_ref","children","props","_objectWithoutProperties","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","context","_extends","FilterField","predicate","_this","setState","Component","this","state","_this$props","_this$props$component","components","filter","rest","selection","entries","_slicedToArray","map","_ref3","_ref4","id","label","availFields","keys","includes","concat","reduce","fields","curr","_ref5","push","valueField","child","pop","type","buildFieldPredicate","newPredicate","setPredicate","isNew","_salesforce_design_system_react_lib_components_filter__WEBPACK_IMPORTED_MODULE_2___default","onRemove","onClick","scrollY","window","document","scrollingElement","scrollTop","setTimeout","scrollTo","top","className","_salesforce_design_system_react_lib_components_combobox__WEBPACK_IMPORTED_MODULE_3___default","options","labels","placeholderReadOnly","required","events","onSelect","e","_ref6","_objectSpread","variant","disabled","PropTypes","shape","string","any","bool","isRequired","arrayOf","node","require"],"mappings":"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","file":"components/Filter/field/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/components/Filter/field/index.jsx\");\n","import React from 'react'\n\nexport const {Provider, Consumer} = React.createContext(\n  {\n    filters: {},\n    properties: {},\n    modified: false,\n    setFilter: () => {},\n    removeFilter: () => {},\n    setFilterValue: () => {},\n    getFilterValue: () => null,\n    getFilter: () => null,\n    setModified: () => {},\n    setProperty: () => {},\n    removeProperty: () => {},\n    hasProperty: () => {},\n  }\n)\n\nexport function connect (WrappedComponent) {\n  return ({children, ...props}) => <Consumer>\n    {context => <WrappedComponent {...props} {...context}>{children}</WrappedComponent>}\n  </Consumer>\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport FilterInput from '@salesforce/design-system-react/lib/components/filter'\nimport ComboBox from '@salesforce/design-system-react/lib/components/combobox'\nimport { connect } from '../context'\n\nclass FilterField extends React.Component {\n\n  static propTypes = {\n    filter: PropTypes.shape({\n      property: PropTypes.string,\n      value: PropTypes.any,\n      isNew: PropTypes.bool,\n    }).isRequired,\n    components: PropTypes.arrayOf(\n      PropTypes.node\n    )\n  }\n\n  state = {\n    predicate: 'is empty'\n  }\n\n  setPredicate = predicate => this.setState({predicate})\n\n  render () {\n    const {predicate} = this.state\n    const {filters, removeFilter, setFilter, components = [], filter, properties, ...rest} = this.props\n    const selection = !!filter.property\n      && Object.entries(properties)\n        .filter(([property]) => filter.property === property)\n        .map(([property, label]) => ({\n          id: property,\n          label: label\n        }))\n      || []\n    const availFields = Object.keys(properties)\n      .filter(property => !Object.keys(filters).includes(property))\n      .map(property => ({\n        id: property,\n        label: properties[property]\n      }))\n      .concat(selection)\n      .reduce((fields, curr) => {\n        if (!!curr && !fields.map(({id}) => id).includes(curr.id)) {\n          fields.push(curr)\n        }\n\n        return fields\n      }, [])\n    const valueField = !!filter.property && components.filter(child => {\n      if (!!child.props && !!child.props.property) {\n        return child.props.property === filter.property\n      }\n      return false\n    }).pop()\n\n    if (null !== filter.value && typeof filter.value !== 'undefined' && !!valueField && typeof valueField.type.buildFieldPredicate === 'function') {\n      const newPredicate = valueField.type.buildFieldPredicate(filter, valueField.props)\n      if (newPredicate !== predicate) this.setPredicate(newPredicate)\n    }\n\n    return (filter.isNew\n      || Object.keys(properties).includes(filter.property))\n      && <FilterInput predicate={predicate}\n                      property={!!filter.property && properties[filter.property] || 'New Filter'}\n                      onRemove={() => removeFilter(filter.id)}\n                      onClick={() => {\n                        // When selecting a filter, something in the popover or filter component tries to\n                        // scroll the window and it's annoying. This puts the scroll top value back to what\n                        // it was when the filter was clicked\n                        let {scrollY} = window\n                        if (document.hasOwnProperty('scrollingElement')) {\n                          scrollY = document.scrollingElement.scrollTop\n                        }\n                        setTimeout(() => {\n                          if (document.hasOwnProperty('scrollingElement')) {\n                            document.scrollingElement.scrollTo({top: scrollY})\n                          } else if (!!window.scrollTo) {\n                            window.scrollTo({top: scrollY})\n                          }\n                        }, 1)\n                      }}\n      >\n        <div className=\"slds-p-around--small\">\n          <ComboBox options={availFields}\n                    labels={{\n                      label: 'Field',\n                      placeholderReadOnly: 'Select a Field',\n                    }}\n                    required\n                    selection={selection}\n                    events={{\n                      onSelect: (e, {selection}) => {\n                        const {id} = selection.pop()\n                        setFilter({...filter, property: id, value: null})\n                      }\n                    }}\n                    variant=\"readonly\"\n                    disabled={!filter.isNew}\n          />\n        </div>\n        <div className=\"slds-p-around--small\">\n          {\n            !!valueField && React.createElement(\n              valueField.type,\n              {\n                ...valueField.props,\n                predicate,\n                setPredicate: this.setPredicate,\n                filters,\n                removeFilter,\n                setFilter,\n                filter,\n                properties, ...rest\n              },\n              valueField.hasOwnProperty('props') && valueField.props.hasOwnProperty('children') && valueField.props.children\n            )\n          }\n        </div>\n      </FilterInput>\n  }\n}\n\nexport default connect(FilterField)","module.exports = require(\"@salesforce/design-system-react/lib/components/combobox\");","module.exports = require(\"@salesforce/design-system-react/lib/components/filter\");","module.exports = require(\"prop-types\");","module.exports = require(\"react\");"],"sourceRoot":""}